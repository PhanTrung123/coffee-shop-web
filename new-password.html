<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create New Password | Cups & Pups</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="./assets/favicon/site.webmanifest" />

    <!-- Fonts -->
    <link rel="stylesheet" href="./assets/fonts/stylesheet.css" />

    <!-- Styles -->
    <link rel="stylesheet" href="./assets/css/main.css" />

    <!-- JS code -->
    <script src="./assets/js/scripts.js"></script>
  </head>
  <body>
    <!-- auth: xác thực -->
    <main class="auth">
      <!-- Auth Intro -->
      <div class="auth__intro d-md-none">
        <img src="./assets/img/sigIn-signUp/forgot password.svg" alt="Join us" class="auth__intro-img" />
        <p class="auth__intro-text">Join us now and become part of the Cups & Pups family!</p>
      </div>
      <!-- Auth Content -->
      <div id="auth-content" class="auth__content">
        <div class="auth__content-inner">
          <a href="./sign-in.html" class="logo">
            <img src="./assets/img/logo-cafe02.jpg" alt="Cups & Pups Logo" class="logo__img" />
            <h1 class="logo__title">Cups & Pups</h1>
          </a>
          <h1 class="auth__heading">Create new password</h1>
          <p class="auth__desc">The password must be at least 6 characters long.</p>
          <form action="./sign-in.html" class="form auth__form auth__form-forgot" novalidate>
            <div class="form__group">
              <div class="form__text-input">
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="New password"
                  class="form__input"
                  required
                  minlength="6"
                />
                <img src="./assets/icons/lock.svg" alt="Lock Icon" class="form__input-icon" />
                <img src="./assets/icons/intro-auth/warning.svg" alt="" class="form__input-icon-warning" />
              </div>
              <div class="form__error">The password must be at least 6 characters long</div>
            </div>
            <div class="form__group">
              <div class="form__text-input">
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  placeholder="Confirm new password"
                  class="form__input"
                  required
                  minlength="6"
                />
                <img src="./assets/icons/lock.svg" alt="Lock Icon" class="form__input-icon" />
                <img src="./assets/icons/intro-auth/warning.svg" alt="" class="form__input-icon-warning" />
              </div>
              <div class="form__error">The password must be at least 6 characters long</div>
            </div>
            <div class="form__group auth__btn-group">
              <button type="submit" class="btn btn--primary auth__btn form__submit-btn">Reset password</button>
            </div>
          </form>
        </div>
      </div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector(".auth__form-forgot");
        const passwordInput = document.getElementById("password");
        const confirmPasswordInput = document.getElementById("confirm-password");
        const passwordError = document.getElementById("password-error");
        const confirmPasswordError = document.getElementById("confirm-password-error");

        form.addEventListener("submit", function (event) {
          event.preventDefault();
          let valid = true;
          if (passwordInput.value !== confirmPasswordInput.value) {
            confirmPasswordError.classList.remove("d-none");
            valid = false;
          } else {
            confirmPasswordError.classList.add("d-none");
          }
          if (passwordInput.value.length < 6) {
            passwordError.classList.remove("d-none");
            valid = false;
          } else {
            passwordError.classList.add("d-none");
          }

          if (valid) {
            window.location.href = "./sign-in.html";
          }
        });
      });
      window.dispatchEvent(new Event("template-loaded"));
    </script>
    <script src="./assets/js/sign-up.js"></script>
  </body>
</html>
